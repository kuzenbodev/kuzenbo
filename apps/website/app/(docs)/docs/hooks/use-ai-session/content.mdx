---
title: "useAiSession"
description: "Manage local AI session state with start and reset controls plus a message counter."
section: "hooks"
package: "ai"
status: "stable"
order: 5
surface: "hook"
seoTitle: "useAiSession | Kuzenbo Docs"
seoDescription: "Use useAiSession to track local session activity, increment message count, and reset state."
ogImage: "/docs-og/hooks/use-ai-session"
ogImageAlt: "useAiSession documentation"
---

## What this hook does

`useAiSession` is a small local-state hook from `@kuzenbo/ai`.
It tracks whether a session is active and how many times `start()` has been called.

## Reads and writes

- Reads: local React state (`active`, `messages`).
- Writes: internal state updates through `start()` and `reset()`.

## When to use it

- Prototype AI chat/session flows before wiring backend persistence.
- Drive UI state for "session started" badges or counters.
- Coordinate a reset action that clears local conversation progress.

## Import

```tsx
import { useAiSession } from "@kuzenbo/ai";
```

## Example: start and reset session state

```tsx
"use client";

import { useAiSession } from "@kuzenbo/ai";

export function AiSessionControls() {
  const session = useAiSession();

  return (
    <div className="space-y-2 rounded-lg border border-border bg-card p-4 text-sm text-card-foreground">
      <p>Active: {String(session.active)}</p>
      <p>Messages sent: {session.messages}</p>
      <div className="flex gap-2">
        <button
          className="rounded-md border border-border px-3 py-1"
          onClick={session.start}
          type="button"
        >
          Start message
        </button>
        <button
          className="rounded-md border border-border px-3 py-1"
          onClick={session.reset}
          type="button"
        >
          Reset session
        </button>
      </div>
    </div>
  );
}
```

## Example: derive disabled UI state

```tsx
const { active, messages, start } = useAiSession();
const canSend = active || messages === 0;
```

## Return contract and edge cases

- Type:

```tsx
{
  active: boolean;
  messages: number;
  start: () => void;
  reset: () => void;
}
```

- Initial state is `active: false`, `messages: 0`.
- `start()` always increments `messages` by `1` and sets `active` to `true`.
- Repeated `start()` calls keep increasing `messages`.
- `reset()` sets `active` to `false` and `messages` to `0`.
- State is local to each hook instance and not shared across components.

## SSR and RSC caveats

- Client-only hook (`useState` + event handlers).
- Do not call it in Server Components.
- Server-rendered parent components should pass serializable props into the client session component.

## Related docs

- [Hooks Index](/docs/hooks)
- [useDatatableState](/docs/hooks/use-datatable-state)
- [useIsomorphicEffect](/docs/hooks/use-isomorphic-effect)
